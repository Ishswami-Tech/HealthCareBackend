# Kubernetes Secrets for Healthcare Backend
# IMPORTANT: This is a template file. DO NOT commit actual secrets to git!
#
# To create secrets in your cluster:
# kubectl create secret generic healthcare-secrets \
#   --from-literal=database-url='postgresql://user:pass@postgres:5432/userdb' \
#   --from-literal=jwt-secret='your-jwt-secret-min-32-chars' \
#   --from-literal=postgres-user='postgres' \
#   --from-literal=postgres-password='your-secure-password' \
#   --from-literal=redis-password='your-redis-password' \
#   --from-literal=google-client-id='your-google-client-id' \
#   --from-literal=google-client-secret='your-google-client-secret' \
#   --from-literal=aws-access-key-id='your-aws-key' \
#   --from-literal=aws-secret-access-key='your-aws-secret' \
#   --namespace=healthcare-backend

---
# Example Secret structure (for reference only - use kubectl create secret)
apiVersion: v1
kind: Secret
metadata:
  name: healthcare-secrets
  namespace: healthcare-backend
  labels:
    app: healthcare-backend
type: Opaque
stringData:
  # Database
  database-url: "postgresql://postgres:CHANGE_ME@postgres:5432/userdb"
  postgres-user: "postgres"
  postgres-password: "CHANGE_ME"

  # Redis
  redis-password: "CHANGE_ME"

  # JWT
  jwt-secret: "CHANGE_ME_MIN_32_CHARACTERS_LONG"

  # OAuth - Google
  google-client-id: "YOUR_GOOGLE_CLIENT_ID"
  google-client-secret: "YOUR_GOOGLE_CLIENT_SECRET"

  # OAuth - Microsoft
  microsoft-client-id: "YOUR_MICROSOFT_CLIENT_ID"
  microsoft-client-secret: "YOUR_MICROSOFT_CLIENT_SECRET"

  # AWS Credentials
  aws-access-key-id: "YOUR_AWS_ACCESS_KEY"
  aws-secret-access-key: "YOUR_AWS_SECRET_KEY"
  aws-region: "us-east-1"

  # AWS SNS (Push Notifications)
  aws-sns-platform-arn: "YOUR_SNS_PLATFORM_ARN"

  # AWS SES (Email)
  aws-ses-from-email: "noreply@yourdomain.com"

  # Firebase (Optional)
  firebase-project-id: "YOUR_FIREBASE_PROJECT_ID"
  firebase-private-key: "YOUR_FIREBASE_PRIVATE_KEY"
  firebase-client-email: "YOUR_FIREBASE_CLIENT_EMAIL"

  # Twilio (Optional)
  twilio-account-sid: "YOUR_TWILIO_ACCOUNT_SID"
  twilio-auth-token: "YOUR_TWILIO_AUTH_TOKEN"
  twilio-phone-number: "YOUR_TWILIO_PHONE"
  twilio-whatsapp-number: "YOUR_TWILIO_WHATSAPP"

  # Razorpay (Payment Gateway)
  razorpay-key-id: "YOUR_RAZORPAY_KEY_ID"
  razorpay-key-secret: "YOUR_RAZORPAY_SECRET"
  razorpay-webhook-secret: "YOUR_RAZORPAY_WEBHOOK_SECRET"

---
# TLS Secret for Ingress (managed by cert-manager)
# This will be automatically created by cert-manager
apiVersion: v1
kind: Secret
metadata:
  name: healthcare-tls
  namespace: healthcare-backend
type: kubernetes.io/tls
# Data will be populated by cert-manager

---
# ConfigMap for non-sensitive configuration
apiVersion: v1
kind: ConfigMap
metadata:
  name: healthcare-config
  namespace: healthcare-backend
data:
  # Application
  NODE_ENV: "production"
  PORT: "8088"
  API_VERSION: "v1"
  LOG_LEVEL: "info"

  # Database connection pool
  DB_POOL_MIN: "10"
  DB_POOL_MAX: "100"
  DB_IDLE_TIMEOUT: "30000"

  # Redis
  REDIS_HOST: "redis"
  REDIS_PORT: "6379"
  REDIS_DB: "0"
  REDIS_TTL: "3600"

  # JWT
  JWT_EXPIRES_IN: "24h"
  JWT_REFRESH_EXPIRES_IN: "7d"

  # Rate Limiting
  RATE_LIMIT_WINDOW_MS: "900000"
  RATE_LIMIT_MAX_REQUESTS: "1000"

  # CORS
  CORS_CREDENTIALS: "true"

  # File Upload
  MAX_FILE_SIZE: "10485760"
  ALLOWED_FILE_TYPES: "image/jpeg,image/png,image/gif,application/pdf"

  # Features
  ENABLE_CACHE: "true"
  ENABLE_HEALTH_CHECK: "true"
  ENABLE_METRICS: "true"
  ENABLE_SWAGGER: "false"

  # Logging Dashboard
  LOGGER_DASHBOARD_PATH: "/logger"
  LOGGER_DASHBOARD_ENABLED: "true"

  # Queue Dashboard
  BULL_BOARD_PATH: "/queue-dashboard"

  # Health & Metrics
  HEALTH_CHECK_PATH: "/health"
  METRICS_PATH: "/metrics"

  # Timezone
  TZ: "UTC"