NODE_ENV=development
IS_DEV=true

# Database configuration - Using Supabase
# Temporarily using direct connection (port 5432) for both URLs to bypass network restrictions
# Once connected, you can switch DATABASE_URL back to port 6543 for connection pooling
DATABASE_URL="postgresql://postgres.diqprhufvuabqtqtcsau:ZlHPs6XwrtW4S8t7@aws-1-ap-southeast-2.pooler.supabase.com:5432/postgres?sslmode=require&connect_timeout=10"

# Direct connection to the database. Used for migrations with SSL
DIRECT_URL="postgresql://postgres.diqprhufvuabqtqtcsau:ZlHPs6XwrtW4S8t7@aws-1-ap-southeast-2.pooler.supabase.com:5432/postgres?sslmode=require&connect_timeout=10"

# Database Security Configuration
DATABASE_SQL_INJECTION_PREVENTION_ENABLED=true
DATABASE_ROW_LEVEL_SECURITY_ENABLED=true
DATABASE_DATA_MASKING_ENABLED=true
DATABASE_RATE_LIMITING_ENABLED=true
DATABASE_READ_REPLICAS_ENABLED=false
DATABASE_READ_REPLICAS_STRATEGY=round-robin
DATABASE_READ_REPLICAS_URLS=

# Cache Configuration - Set to false to disable cache entirely
CACHE_ENABLED=false

# Cache Provider Configuration (Dragonfly is default - using Docker)
# Only used if CACHE_ENABLED=true
CACHE_PROVIDER=dragonfly

# Redis Configuration (for Redis providear) - Commented out, using Dragonfly
# REDIS_HOST=redis
# REDIS_PORT=6379
# REDIS_TTL=3600
# REDIS_PREFIX=healthcare:
# REDIS_PASSWORD=
# REDIS_MAX_MEMORY=256mb
# REDIS_POLICY=allkeys-lru
# REDIS_ENABLED=true

# Dragonfly Configuration (default provider - using Docker container)
DRAGONFLY_ENABLED=true
DRAGONFLY_HOST=dragonfly
DRAGONFLY_PORT=6379
DRAGONFLY_KEY_PREFIX=healthcare:

# JWT Configuration
JWT_SECRET=dev-jwt-secret-key
JWT_EXPIRATION=24h
JWT_ACCESS_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# Prisma Configuration - Using Docker path
PRISMA_SCHEMA_PATH=/app/src/libs/infrastructure/database/prisma/schema.prisma

# App Configuration
PORT=8088
API_PREFIX=/api/v1
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=1000

# Logging
LOG_LEVEL=debug
ENABLE_AUDIT_LOGS=true

# Rate limiting configuration
RATE_LIMIT_ENABLED=true
API_RATE_LIMIT=100
AUTH_RATE_LIMIT=5
HEAVY_RATE_LIMIT=10
USER_RATE_LIMIT=50
HEALTH_RATE_LIMIT=200
MAX_AUTH_ATTEMPTS=5
AUTH_ATTEMPT_WINDOW=1800
MAX_CONCURRENT_SESSIONS=5
SESSION_INACTIVITY_THRESHOLD=900

# Email provider: 'smtp' or 'api'
EMAIL_PROVIDER=api
# Email Configuration
EMAIL_HOST=live.smtp.mailtrap.io
EMAIL_PORT=2525
EMAIL_SECURE=false
EMAIL_USER=api
EMAIL_PASSWORD=d7aa998ad1a04bd591f94e4780a6dded
EMAIL_FROM=noreply@healthcare.com
MAILTRAP_API_TOKEN=d7aa998ad1a04bd591f94e4780a6dded

# Security Configuration
SECURITY_RATE_LIMIT=true
SECURITY_RATE_LIMIT_MAX=1000
SECURITY_RATE_LIMIT_WINDOW_MS=150
TRUST_PROXY=1
ENABLE_SSL=false
USE_HTTP=true

# CORS Configuration (Required - no hardcoded fallbacks in application code)
CORS_CREDENTIALS=true
CORS_METHODS=GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS
CORS_ORIGIN=http://localhost:3000,http://localhost:8088,http://localhost:5050,http://localhost:8082

# Host Configuration
HOST=0.0.0.0
BIND_ADDRESS=0.0.0.0
VIRTUAL_HOST=localhost

# Port Configuration
PORT=8088
VIRTUAL_PORT=8088
API_PORT=8088

# Base URLs (Required - no hardcoded fallbacks in application code)
BASE_URL=http://localhost:8088
API_URL=http://localhost:8088
FRONTEND_URL=http://localhost:3000

# Service URLs (Required - no hardcoded fallbacks in application code)
SWAGGER_URL=/docs
BULL_BOARD_URL=/queue-dashboard
SOCKET_URL=/socket.io
REDIS_UI_URL=/redis-ui
REDIS_COMMANDER_URL=http://localhost:8082
LOGGER_URL=/logger
PRISMA_STUDIO_URL=http://localhost:5555
PGADMIN_URL=http://localhost:5050

# Development Tools Configuration
ENABLE_SWAGGER=true
ENABLE_PRISMA_STUDIO=true
RESET_DB=false

# Resource Limits
DB_CONNECTION_LIMIT=30
DB_POOL_TIMEOUT=30
DB_STATEMENT_TIMEOUT=60000
NODE_OPTIONS="--max-old-space-size=1536 --max-http-header-size=16384"
GC_INTERVAL=21600

# Docker Configuration
DOCKERHUB_USERNAME=aadeshbhujbal

# WhatsApp Configuration
WHATSAPP_ENABLED=false
WHATSAPP_API_URL=https://graph.facebook.com/v17.0
WHATSAPP_API_KEY=your-whatsapp-api-key
WHATSAPP_PHONE_NUMBER_ID=your-whatsapp-phone-number-id
WHATSAPP_BUSINESS_ACCOUNT_ID=your-whatsapp-business-account-id
WHATSAPP_OTP_TEMPLATE_ID=otp_verification
WHATSAPP_APPOINTMENT_TEMPLATE_ID=appointment_reminder
WHATSAPP_PRESCRIPTION_TEMPLATE_ID=prescription_notification

# Bull Board Configuration
BULL_BOARD_PORT=8089
BULL_BOARD_PATH=/admin/queues

# Docker Network Configuration
DOCKER_NETWORK=app-network

# Appointment Plugin Configuration
CLINIC_QUEUE_PLUGIN_ENABLED=true
CLINIC_QUEUE_PLUGIN_PRIORITY=1
CLINIC_LOCATION_PLUGIN_ENABLED=true
CLINIC_LOCATION_PLUGIN_PRIORITY=1
CLINIC_CONFIRMATION_PLUGIN_ENABLED=true
CLINIC_CONFIRMATION_PLUGIN_PRIORITY=1
CLINIC_CHECKIN_PLUGIN_ENABLED=true
CLINIC_CHECKIN_PLUGIN_PRIORITY=1
CLINIC_SOCKET_PLUGIN_ENABLED=true
CLINIC_SOCKET_PLUGIN_PRIORITY=1
CLINIC_PAYMENT_PLUGIN_ENABLED=true
CLINIC_PAYMENT_PLUGIN_PRIORITY=1
CLINIC_VIDEO_PLUGIN_ENABLED=true
CLINIC_VIDEO_PLUGIN_PRIORITY=1
CLINIC_NOTIFICATION_PLUGIN_ENABLED=true
CLINIC_NOTIFICATION_PLUGIN_PRIORITY=1
CLINIC_REMINDER_PLUGIN_ENABLED=true
CLINIC_REMINDER_PLUGIN_PRIORITY=1
CLINIC_ANALYTICS_PLUGIN_ENABLED=true
CLINIC_ANALYTICS_PLUGIN_PRIORITY=1
CLINIC_FOLLOWUP_PLUGIN_ENABLED=true
CLINIC_FOLLOWUP_PLUGIN_PRIORITY=1

# Plugin Settings
CLINIC_BIOMETRIC_ENABLED=false
CLINIC_AUTO_QUEUE=true
CLINIC_PRIORITY_CHECKIN=true
CLINIC_REALTIME_UPDATES=true
CLINIC_QUEUE_NOTIFICATIONS=true
CLINIC_EMERGENCY_ALERTS=true