# ============================================================================
# PRODUCTION ENVIRONMENT VARIABLES TEMPLATE
# Copy this file and replace values with your actual production secrets
# 
# ⚠️  SECURITY WARNING ⚠️
# - NEVER commit actual secrets to version control
# - NEVER use this template file with real secrets
# - Replace ALL placeholder values (YOUR_XXX_HERE, CHANGE_THIS, etc.) with actual values
# - Store actual .env.production file securely (not in git)
# - Use GitHub Secrets for CI/CD deployment
# 
# See also:
# - docs/ENVIRONMENT_VARIABLES.md - Complete reference for all environment variables
# - docs/GITHUB_SECRETS_REFERENCE.md - GitHub Secrets for CI/CD deployment
# - docs/DEPLOYMENT_GUIDE.md - Deployment setup guide
# ============================================================================

# Application Configuration
NODE_ENV=production
IS_DEV=false

# Database Configuration
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/userdb?schema=public
DIRECT_URL=postgresql://postgres:postgres@postgres:5432/userdb?schema=public
DATABASE_SQL_INJECTION_PREVENTION_ENABLED=true
DATABASE_ROW_LEVEL_SECURITY_ENABLED=true
DATABASE_DATA_MASKING_ENABLED=true
DATABASE_RATE_LIMITING_ENABLED=true
DATABASE_READ_REPLICAS_ENABLED=false
DATABASE_READ_REPLICAS_STRATEGY=round-robin
DATABASE_READ_REPLICAS_URLS=

# Cache Configuration
CACHE_ENABLED=true
CACHE_PROVIDER=dragonfly

# Dragonfly Configuration
DRAGONFLY_ENABLED=true
DRAGONFLY_HOST=dragonfly
DRAGONFLY_PORT=6379
DRAGONFLY_KEY_PREFIX=healthcare:
DRAGONFLY_PASSWORD=

# Redis Configuration (Only needed if CACHE_PROVIDER=redis)
# Since CACHE_PROVIDER=dragonfly, Redis is not needed
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_TTL=7200
REDIS_PREFIX=healthcare:
REDIS_ENABLED=false
REDIS_PASSWORD=

# Application URLs
PORT=8088
API_PREFIX=/api/v1
HOST=your-api-domain.com
BIND_ADDRESS=0.0.0.0
BASE_URL=https://your-api-domain.com
API_URL=https://your-api-domain.com
FRONTEND_URL=https://your-frontend-domain.com

# JWT Configuration (REQUIRED - Replace with secure secrets!)
JWT_SECRET=CHANGE_THIS_TO_A_SECURE_SECRET_IN_PRODUCTION
JWT_EXPIRATION=24h
JWT_ACCESS_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d
JWT_REFRESH_SECRET=CHANGE_THIS_TO_A_SECURE_REFRESH_SECRET_IN_PRODUCTION

# Prisma Configuration
PRISMA_SCHEMA_PATH=/app/src/libs/infrastructure/database/prisma/schema.prisma

# Logging Configuration
LOG_LEVEL=info
ENABLE_AUDIT_LOGS=true

# Rate Limiting Configuration
RATE_LIMIT_ENABLED=true
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100
API_RATE_LIMIT=500
AUTH_RATE_LIMIT=30
HEAVY_RATE_LIMIT=50
USER_RATE_LIMIT=200
HEALTH_RATE_LIMIT=1000
MAX_AUTH_ATTEMPTS=10
AUTH_ATTEMPT_WINDOW=3600
MAX_CONCURRENT_SESSIONS=20
SESSION_INACTIVITY_THRESHOLD=1800

# Security Configuration
SECURITY_RATE_LIMIT=true
SECURITY_RATE_LIMIT_MAX=500
SECURITY_RATE_LIMIT_WINDOW_MS=30000
TRUST_PROXY=1

# Email Configuration (ZeptoMail)
EMAIL_PROVIDER=zeptomail
ZEPTOMAIL_ENABLED=true
# Get your Send Mail Token from: Mail Agents >> SMTP/API >> Send Mail Token
# Documentation: https://www.zoho.com/zeptomail/help/api/email-sending.html
ZEPTOMAIL_SEND_MAIL_TOKEN=YOUR_ZEPTOMAIL_SEND_MAIL_TOKEN_HERE
# From email must be from a verified domain in your ZeptoMail Mail Agent
ZEPTOMAIL_FROM_EMAIL=noreply@yourdomain.com
ZEPTOMAIL_FROM_NAME=Healthcare App
# Optional: Bounce address for handling bounces
ZEPTOMAIL_BOUNCE_ADDRESS=bounces@yourdomain.com
ZEPTOMAIL_API_BASE_URL=https://api.zeptomail.com/v1.1

# CORS Configuration
# Add all allowed origins (frontend domains, API domains, etc.)
CORS_ORIGIN=https://your-frontend-domain.com,https://your-api-domain.com,https://www.your-domain.com
CORS_CREDENTIALS=true
CORS_METHODS=GET,HEAD,PUT,PATCH,POST,DELETE,OPTIONS

# Service URLs
SWAGGER_URL=/docs
BULL_BOARD_URL=/queue-dashboard
SOCKET_URL=/socket.io
PRISMA_STUDIO_URL=/prisma
PGADMIN_URL=/pgadmin

# WhatsApp Configuration (Optional)
WHATSAPP_ENABLED=false
WHATSAPP_API_URL=https://graph.facebook.com/v17.0
WHATSAPP_API_KEY=
WHATSAPP_PHONE_NUMBER_ID=
WHATSAPP_BUSINESS_ACCOUNT_ID=
WHATSAPP_OTP_TEMPLATE_ID=otp_verification
WHATSAPP_APPOINTMENT_TEMPLATE_ID=appointment_reminder
WHATSAPP_PRESCRIPTION_TEMPLATE_ID=prescription_notification

# Video Configuration (OpenVidu)
VIDEO_ENABLED=true
VIDEO_PROVIDER=openvidu
OPENVIDU_URL=https://your-video-domain.com
OPENVIDU_SECRET=CHANGE_THIS_TO_A_SECURE_SECRET_IN_PRODUCTION
OPENVIDU_DOMAIN=your-video-domain.com
OPENVIDU_WEBHOOK_ENABLED=false
OPENVIDU_WEBHOOK_ENDPOINT=https://your-api-domain.com/api/v1/webhooks/openvidu
OPENVIDU_WEBHOOK_EVENTS=sessionCreated,sessionDestroyed,participantJoined,participantLeft

# Coturn (TURN/STUN) Security Configuration
# ⚠️ SECURITY: Coturn is exposed on port 3478 - use strong password!
# See docs/MASTER_COTURN_GUIDE.md for complete Coturn security setup
# ✅ PRODUCTION: Using dedicated subdomain for better security isolation
COTURN_DOMAIN=turn.ishswami.in
COTURN_PASSWORD=CHANGE_THIS_TO_A_STRONG_PASSWORD_MIN_32_CHARS

# Google OAuth Configuration
# Get credentials from: https://console.cloud.google.com/apis/credentials
# Create OAuth 2.0 Client ID and add authorized redirect URI: https://your-api-domain.com/auth/google/callback
GOOGLE_CLIENT_ID=YOUR_GOOGLE_CLIENT_ID_HERE.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=YOUR_GOOGLE_CLIENT_SECRET_HERE
GOOGLE_REDIRECT_URI=https://your-api-domain.com/auth/google/callback

# Session Configuration (REQUIRED - Replace with secure secrets!)
SESSION_SECRET=CHANGE_THIS_TO_A_SECURE_SESSION_SECRET_IN_PRODUCTION_MIN_32_CHARS
SESSION_TIMEOUT=86400
SESSION_SECURE_COOKIES=true
SESSION_SAME_SITE=strict
COOKIE_SECRET=CHANGE_THIS_TO_A_SECURE_COOKIE_SECRET_IN_PRODUCTION_MIN_32_CHARS

# Firebase Configuration (REQUIRED for push notifications)
FIREBASE_PROJECT_ID=
FIREBASE_PRIVATE_KEY=
FIREBASE_CLIENT_EMAIL=
FIREBASE_DATABASE_URL=
FIREBASE_VAPID_KEY=

# Social Auth Configuration (Optional)
FACEBOOK_APP_ID=YOUR_FACEBOOK_APP_ID_HERE
FACEBOOK_APP_SECRET=YOUR_FACEBOOK_APP_SECRET_HERE
FACEBOOK_REDIRECT_URI=https://your-api-domain.com/auth/facebook/callback
APPLE_CLIENT_ID=YOUR_APPLE_CLIENT_ID_HERE
APPLE_CLIENT_SECRET=YOUR_APPLE_CLIENT_SECRET_HERE
APPLE_REDIRECT_URI=https://your-api-domain.com/auth/apple/callback

# Contabo S3 Storage Configuration
S3_ENABLED=true
S3_PROVIDER=contabo
S3_ENDPOINT=https://eu2.contabostorage.com
S3_REGION=eu-central-1
# Get credentials from: Contabo Object Storage >> Access Keys
S3_BUCKET=your-bucket-name
S3_ACCESS_KEY_ID=YOUR_CONTABO_ACCESS_KEY_ID_HERE
S3_SECRET_ACCESS_KEY=YOUR_CONTABO_SECRET_ACCESS_KEY_HERE
S3_FORCE_PATH_STYLE=true
S3_PUBLIC_URL_EXPIRATION=3600
# CDN URL Configuration
# For Contabo provider: CDN URL is automatically generated from S3_ENDPOINT, S3_ACCESS_KEY_ID, and S3_BUCKET
# Format: https://{endpoint}/{access-key-id}:{bucket}
# Example: https://eu2.contabostorage.com/{access-key-id}:your-bucket-name
# Only set this if you want to use a different CDN provider (e.g., Cloudflare, AWS CloudFront)
CDN_URL=

# Docker Configuration
DOCKER_ENV=true
DOCKER_NETWORK=app-network

